Version: 0.1
Environment:
  Name: grungeon
  Description: asdf
  Observers:
    Sprite2D:
      TileSize: 64
      BackgroundTile: Flowerfloor-1.png
  Player:
    Observer:
      Height: 10
      Width: 10
      TrackAvatar: true
    AvatarObject: grypto
  Variables:
    - Name: slime_inventory
      InitialValue: 0
    - Name: health
      InitialValue: 100


  Levels:
    - |
      w  w  w  w  w  w  w  w  w  w  w  w  w  w  w
      w  .  .  .  .  .  .  .  .  .  .  .  .  .  w
      w  .  .  .  .  x  .  X  X  .  .  .  .  .  w
      w  .  .  .  .  .  .  X  X  .  .  x  .  .  w
      w  .  .  .  .  .  .  .  .  .  .  .  .  .  w
      w  .  X  .  .  .  .  .  .  .  .  .  .  .  w
      w  .  .  .  .  .  .  .  .  .  .  x  .  .  w
      w  .  .  .  .  .  .  .  .  .  .  .  .  .  w
      w  .  .  .  G  .  .  .  X  .  .  .  .  .  w
      w  .  .  .  .  .  .  .  .  .  .  .  .  .  w
      w  w  w  w  w  w  w  w  w  w  w  w  w  w  w
      

Actions:
  - Name: move
    InputMapping:
      Inputs:
        1:
          OrientationVector: [ 1, 0 ]
          VectorToDest: [ 1, 0 ]
          MetaData:
            image_idx: 0
        2:
          OrientationVector: [ 0, -1 ]
          VectorToDest: [ 0, -1 ]
          MetaData:
            image_idx: 1
        3:
          OrientationVector: [ -1, 0 ]
          VectorToDest: [ -1, 0 ]
          MetaData:
            image_idx: 2
        4:
          OrientationVector: [ 0, 1 ]
          VectorToDest: [ 0, 1 ]
          MetaData:
            image_idx: 3

    Behaviours:
      - Src:
          Object: grypto
          Commands:
            - mov: _dest
            - set_tile: meta.image_idx
        Dst:
          Object: _empty

  - Name: acquire_slime
    Behaviors:
      - Src:
          Object: grypto
          Commands:
            - incr: slime_inventory
      - Dst:
          Object: [slime_barrel]
          Commands:
            - change_to: barrel



Objects:

  - Name: slime_barrel
    MapCharacter: X
    Observers:
      Sprite2D:
        - Image: SlimeBarrel.png

  - Name: barrel
    MapCharacter: x
    Observers:
      Sprite2D:
        - Image: EmptyBarrel.png

  - Name: egg
    MapCharacter: e
    Observers:
      Sprite2D:
        - Image: SlimeEgg.png

  - Name: wall
    MapCharacter: w
    Observers:
      Sprite2D:
        - TilingMode: WALL_16
          Image:
            - wall1-0.png
            - wall1-1.png
            - wall1-2.png
            - wall1-3.png
            - wall1-4.png
            - wall1-5.png
            - wall1-6.png
            - wall1-7.png
            - wall1-8.png
            - wall1-9.png
            - wall1-10.png
            - wall1-11.png
            - wall1-12.png
            - wall1-13.png
            - wall1-14.png
            - wall1-15.png
  - Name: grypto
    MapCharacter: G
    Observers:
      Sprite2D:
        - Image: grypto_up.png
        - Image: grypto_right.png
        - Image: grypto_down.png
        - Image: grypto_left.png

